{
	"info": {
		"_postman_id": "50a9d50b-efec-41af-82f3-51ace4d784be",
		"name": "OpenStack",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "List",
			"item": [
				{
					"name": "ListNetworks",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}:9696/v2.0/networks?project_id={{project_id}}",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"networks"
							],
							"query": [
								{
									"key": "project_id",
									"value": "{{project_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ListSubnets",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}:9696/v2.0/subnets?project_id={{project_id}}",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"subnets"
							],
							"query": [
								{
									"key": "project_id",
									"value": "{{project_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ListRouters",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}:9696/v2.0/routers?project_id={{project_id}}",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"routers"
							],
							"query": [
								{
									"key": "project_id",
									"value": "{{project_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ListServers",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/compute/v2.1/servers?project_id={{project_id}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"compute",
								"v2.1",
								"servers"
							],
							"query": [
								{
									"key": "project_id",
									"value": "{{project_id}}"
								}
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Create",
			"item": [
				{
					"name": "CreateNetwork",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "eab41c66-7939-4209-a1df-0cb8fa699936",
								"exec": [
									"var body = JSON.parse(responseBody)",
									"",
									"postman.setEnvironmentVariable('network_id', body.network.id)",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"network\": {\r\n        \"name\": \"{{owner}}-network\",\r\n        \"admin_state_up\": true,\r\n        \"mtu\": 1450,\r\n        \"project_id\": \"{{project_id}}\"\r\n    }\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}:9696/v2.0/networks",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"networks"
							]
						}
					},
					"response": []
				},
				{
					"name": "CreateSubnet",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6ef027e3-06df-4199-966b-ace6200b3514",
								"exec": [
									"var body = JSON.parse(responseBody)",
									"",
									"postman.setEnvironmentVariable('subnet_id', body.subnet.id)",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"subnet\": {\r\n        \"name\": \"{{owner}}-subnet\",\r\n        \"project_id\": \"{{project_id}}\",\r\n        \"network_id\": \"{{network_id}}\",\r\n        \"ip_version\": 4,\r\n        \"cidr\": \"10.0.0.0/24\"\r\n    }\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}:9696/v2.0/subnets",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"subnets"
							]
						}
					},
					"response": []
				},
				{
					"name": "CreateRouter",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "95dd34e5-115d-4f10-8b29-84be04c7b92c",
								"exec": [
									"var body = JSON.parse(responseBody)",
									"",
									"postman.setEnvironmentVariable('router_id', body.router.id)",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"router\": {\r\n        \"name\": \"{{owner}}-router\",\r\n        \"external_gateway_info\": {\r\n            \"network_id\": \"{{external_network_id}}\",\r\n            \"enable_snat\": true\r\n        },\r\n        \"admin_state_up\": true,\r\n        \"project_id\": \"{{project_id}}\"\r\n    }\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}:9696/v2.0/routers",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"routers"
							]
						}
					},
					"response": []
				},
				{
					"name": "AddRouterInterface",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "291585f6-5faa-4d58-ac26-8bc4aff5eddc",
								"exec": [
									"var body = JSON.parse(responseBody)",
									"",
									"postman.setEnvironmentVariable('port_id', body.port_id)",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"subnet_id\": \"{{subnet_id}}\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}:9696/v2.0/routers/{{router_id}}/add_router_interface",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"routers",
								"{{router_id}}",
								"add_router_interface"
							]
						}
					},
					"response": []
				},
				{
					"name": "CreateServer",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8580939a-a086-471c-9049-b84b96ac3583",
								"exec": [
									"var body = JSON.parse(responseBody)",
									"",
									"postman.setEnvironmentVariable('server_id', body.server.id)",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"server\" : {\r\n        \"name\" : \"{{owner}}-server\",\r\n        \"imageRef\" : \"95b788c7-5352-4184-8453-9c253f13bd73\",\r\n        \"flavorRef\" : \"42\",\r\n        \"networks\" : [\r\n          {\r\n          \t\"uuid\" : \"{{network_id}}\"\r\n          }\r\n        ]\r\n    }\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/compute/v2.1/servers",
							"host": [
								"{{url}}"
							],
							"path": [
								"compute",
								"v2.1",
								"servers"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Delete",
			"item": [
				{
					"name": "DeleteNetwork",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7fde7bb0-735f-4911-81bb-6b174ec181b7",
								"exec": [
									"postman.clearEnvironmentVariable(\"network_id\")",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}:9696/v2.0/networks/{{network_id}}?project_id={{project_id}}",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"networks",
								"{{network_id}}"
							],
							"query": [
								{
									"key": "project_id",
									"value": "{{project_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DeleteSubnet",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cbd215d0-a9dd-4d3b-9575-ccc99e169852",
								"exec": [
									"postman.clearEnvironmentVariable(\"subnet_id\")",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}:9696/v2.0/subnets/{{subnet_id}}?project_id={{project_id}}",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"subnets",
								"{{subnet_id}}"
							],
							"query": [
								{
									"key": "project_id",
									"value": "{{project_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DeleteRouter",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "dab4a2d0-4007-4db7-8d17-8c99a6175b0b",
								"exec": [
									"postman.clearEnvironmentVariable(\"router_id\")",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}:9696/v2.0/routers/{{router_id}}?project_id={{project_id}}",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"routers",
								"{{router_id}}"
							],
							"query": [
								{
									"key": "project_id",
									"value": "{{project_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "RemoveRouterInterface",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "08712b8f-7c39-40d2-8d76-fa49eda0c780",
								"exec": [
									"postman.clearEnvironmentVariable(\"port_id\")",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"subnet_id\": \"{{subnet_id}}\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}:9696/v2.0/routers/{{router_id}}/remove_router_interface",
							"host": [
								"{{url}}"
							],
							"port": "9696",
							"path": [
								"v2.0",
								"routers",
								"{{router_id}}",
								"remove_router_interface"
							]
						}
					},
					"response": []
				},
				{
					"name": "DeleteServer",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a69cc7fa-9fbb-4043-af4c-6bf759413db7",
								"exec": [
									"postman.clearEnvironmentVariable(\"server_id\")",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Auth-Token",
								"value": "{{x_subject_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url}}/compute/v2.1/servers/{{server_id}}",
							"host": [
								"{{url}}"
							],
							"path": [
								"compute",
								"v2.1",
								"servers",
								"{{server_id}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "GetAuthToken",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8e261bcd-a92c-4808-8c3f-7cce508790fd",
						"exec": [
							"postman.setEnvironmentVariable(\"x_subject_token\", postman.getResponseHeader(\"X-Subject-Token\"))"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"auth\": {\r\n        \"identity\": {\r\n            \"methods\": [\r\n                \"password\"\r\n            ],\r\n            \"password\": {\r\n                \"user\": {\r\n                    \"name\": \"{{username}}\",\r\n                    \"domain\": {\r\n                        \"name\": \"Default\"\r\n                    },\r\n                    \"password\": \"{{password}}\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{url}}/identity/v3/auth/tokens",
					"host": [
						"{{url}}"
					],
					"path": [
						"identity",
						"v3",
						"auth",
						"tokens"
					]
				}
			},
			"response": []
		},
		{
			"name": "GetDemoProjectId",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "644baed7-b100-4d05-a87a-bb5c26bb398b",
						"exec": [
							"var body = JSON.parse(responseBody)",
							"",
							"for (var i=0; i<body.projects.length; i++) {",
							"    if(body.projects[i].name == \"demo\") {",
							"        postman.setEnvironmentVariable(\"project_id\", body.projects[i].id)",
							"    }",
							"}",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{x_subject_token}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{url}}/identity/v3/projects",
					"host": [
						"{{url}}"
					],
					"path": [
						"identity",
						"v3",
						"projects"
					]
				}
			},
			"response": []
		},
		{
			"name": "GetExternalNetworkId",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "202bc556-7bb3-4a09-85cd-3ef9e22499be",
						"exec": [
							"var body = JSON.parse(responseBody)",
							"",
							"for (var i=0; i<body.networks.length; i++) {",
							"    if(body.networks[i].name == \"public\") {",
							"        postman.setEnvironmentVariable(\"external_network_id\", body.networks[i].id)",
							"    }",
							"}",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{x_subject_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{url}}:9696/v2.0/networks",
					"host": [
						"{{url}}"
					],
					"port": "9696",
					"path": [
						"v2.0",
						"networks"
					]
				}
			},
			"response": []
		}
	],
	"protocolProfileBehavior": {}
}